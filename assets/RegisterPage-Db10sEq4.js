import{r as o,B as g,C as v,D as s,E as V,G as a,a1 as b,a2 as m,S as w,b2 as r,b4 as x,Q as p}from"./index-CLHvrMq-.js";import{Q as C}from"./QPage-DxO2ME5i.js";import{j as R,a as y,k as Q,d as U,b as h}from"./firebase-CNXZ8qHp.js";const q={__name:"RegisterPage",setup(k){const c=V(),u=o(""),d=o(""),n=o(""),i=o(""),f=async()=>{try{const e=(await R(y,d.value,n.value)).user;await Q(U(h,"users",e.uid),{uid:e.uid,email:e.email,name:u.value,photoURL:i.value||"",createdAt:new Date}),c.push("/dashboard")}catch(t){console.error("Registration error:",t),alert("Registration failed: "+t.message)}};return(t,e)=>(v(),g(C,{class:"q-pa-md flex flex-center"},{default:s(()=>[a(b,{style:{width:"400px","max-width":"90vw"}},{default:s(()=>[a(m,null,{default:s(()=>e[5]||(e[5]=[w("div",{class:"text-h6"},"Register",-1)])),_:1}),a(m,{class:"q-gutter-md"},{default:s(()=>[a(r,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),label:"Full Name",type:"text",outlined:""},null,8,["modelValue"]),a(r,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),label:"Email",type:"email",outlined:""},null,8,["modelValue"]),a(r,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),label:"Password",type:"password",outlined:"",hint:"Min 8 chars, include letters, numbers, special characters"},null,8,["modelValue"]),a(r,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=l=>i.value=l),label:"Photo URL (optional)",type:"text",outlined:""},null,8,["modelValue"])]),_:1}),a(x,{align:"right",class:"q-gutter-sm"},{default:s(()=>[a(p,{label:"Login",flat:"",onClick:e[4]||(e[4]=l=>t.$router.push("/login"))}),a(p,{label:"Register",color:"primary",onClick:f})]),_:1})]),_:1})]),_:1}))}};export{q as default};
